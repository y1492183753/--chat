{"remainingRequest":"D:\\im-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\im-ui\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\im-ui\\src\\store\\userStore.js","dependencies":[{"path":"D:\\im-ui\\src\\store\\userStore.js","mtime":1703809564000},{"path":"D:\\im-ui\\babel.config.js","mtime":1703809560000},{"path":"D:\\im-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710142170000},{"path":"D:\\im-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1710142166000},{"path":"D:\\im-ui\\node_modules\\eslint-loader\\index.js","mtime":1710142168000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgVVNFUl9TVEFURSB9IGZyb20gIi4uL2FwaS9lbnVtcy5qcyI7CmltcG9ydCBodHRwIGZyb20gJy4uL2FwaS9odHRwUmVxdWVzdC5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgdXNlckluZm86IHt9LAogICAgc3RhdGU6IFVTRVJfU1RBVEUuRlJFRQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRVc2VySW5mbyhzdGF0ZSwgdXNlckluZm8pIHsKICAgICAgc3RhdGUudXNlckluZm8gPSB1c2VySW5mbzsKICAgIH0sCiAgICBzZXRVc2VyU3RhdGUoc3RhdGUsIHVzZXJTdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0ZSA9IHVzZXJTdGF0ZTsKICAgIH0sCiAgICBjbGVhcihzdGF0ZSkgewogICAgICBzdGF0ZS51c2VySW5mbyA9IHt9OwogICAgICBzdGF0ZS5zdGF0ZSA9IFVTRVJfU1RBVEUuRlJFRTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvYWRVc2VyKGNvbnRleHQpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBodHRwKHsKICAgICAgICAgIHVybDogJy91c2VyL3NlbGYnLAogICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgIH0pLnRoZW4odXNlckluZm8gPT4gewogICAgICAgICAgY29udGV4dC5jb21taXQoInNldFVzZXJJbmZvIiwgdXNlckluZm8pOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICByZWplY3QocmVzKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["USER_STATE","http","state","userInfo","FREE","mutations","setUserInfo","setUserState","userState","clear","actions","loadUser","context","Promise","resolve","reject","url","method","then","commit","catch","res"],"sources":["D:/im-ui/src/store/userStore.js"],"sourcesContent":["import {USER_STATE} from \"../api/enums.js\"\r\nimport http from '../api/httpRequest.js'\r\n\r\nexport default {\r\n\t\r\n\tstate: {\r\n\t\tuserInfo: {\r\n\t\t\t\r\n\t\t},\r\n\t\tstate: USER_STATE.FREE \r\n\t},\r\n\r\n\tmutations: {\r\n\t\tsetUserInfo(state, userInfo) {\r\n\t\t\tstate.userInfo = userInfo\r\n\t\t},\r\n\t\tsetUserState(state, userState) {\r\n\t\t\tstate.state = userState;\r\n\t\t},\r\n\t\tclear(state){\r\n\t\t\tstate.userInfo = {};\r\n\t\t\tstate.state = USER_STATE.FREE;\r\n\t\t}\r\n\t},\r\n\tactions:{\r\n\t\tloadUser(context){\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\thttp({\r\n\t\t\t\t\turl: '/user/self',\r\n\t\t\t\t\tmethod: 'GET'\r\n\t\t\t\t}).then((userInfo) => {\r\n\t\t\t\t\tcontext.commit(\"setUserInfo\",userInfo);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}).catch((res)=>{\r\n\t\t\t\t\treject(res);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}"],"mappings":"AAAA,SAAQA,UAAU,QAAO,iBAAiB;AAC1C,OAAOC,IAAI,MAAM,uBAAuB;AAExC,eAAe;EAEdC,KAAK,EAAE;IACNC,QAAQ,EAAE,CAEV,CAAC;IACDD,KAAK,EAAEF,UAAU,CAACI;EACnB,CAAC;EAEDC,SAAS,EAAE;IACVC,WAAWA,CAACJ,KAAK,EAAEC,QAAQ,EAAE;MAC5BD,KAAK,CAACC,QAAQ,GAAGA,QAAQ;IAC1B,CAAC;IACDI,YAAYA,CAACL,KAAK,EAAEM,SAAS,EAAE;MAC9BN,KAAK,CAACA,KAAK,GAAGM,SAAS;IACxB,CAAC;IACDC,KAAKA,CAACP,KAAK,EAAC;MACXA,KAAK,CAACC,QAAQ,GAAG,CAAC,CAAC;MACnBD,KAAK,CAACA,KAAK,GAAGF,UAAU,CAACI,IAAI;IAC9B;EACD,CAAC;EACDM,OAAO,EAAC;IACPC,QAAQA,CAACC,OAAO,EAAC;MAChB,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QACvCd,IAAI,CAAC;UACJe,GAAG,EAAE,YAAY;UACjBC,MAAM,EAAE;QACT,CAAC,CAAC,CAACC,IAAI,CAAEf,QAAQ,IAAK;UACrBS,OAAO,CAACO,MAAM,CAAC,aAAa,EAAChB,QAAQ,CAAC;UACtCW,OAAO,CAAC,CAAC;QACV,CAAC,CAAC,CAACM,KAAK,CAAEC,GAAG,IAAG;UACfN,MAAM,CAACM,GAAG,CAAC;QACZ,CAAC,CAAC;MACH,CAAC,CAAC;IACH;EACD;AACD,CAAC","ignoreList":[]}]}