{"remainingRequest":"D:\\im-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\im-ui\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\im-ui\\src\\api\\date.js","dependencies":[{"path":"D:\\im-ui\\src\\api\\date.js","mtime":1703809560000},{"path":"D:\\im-ui\\babel.config.js","mtime":1703809560000},{"path":"D:\\im-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710142170000},{"path":"D:\\im-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1710142166000},{"path":"D:\\im-ui\\node_modules\\eslint-loader\\index.js","mtime":1710142168000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:bGV0IHRvVGltZVRleHQgPSAodGltZVN0YW1wLCBzaW1wbGUpID0+IHsKICB2YXIgZGF0ZVRpbWUgPSBuZXcgRGF0ZSh0aW1lU3RhbXApOwogIHZhciBjdXJyZW50VGltZSA9IERhdGUucGFyc2UobmV3IERhdGUoKSk7IC8v5b2T5YmN5pe26Ze0CiAgdmFyIHRpbWVEaWZmID0gY3VycmVudFRpbWUgLSBkYXRlVGltZTsgLy/kuI7lvZPliY3ml7bpl7Tor6/lt64KICB2YXIgdGltZVRleHQgPSAnJzsKICBpZiAodGltZURpZmYgPD0gNjAwMDApIHsKICAgIC8v5LiA5YiG6ZKf5YaFCiAgICB0aW1lVGV4dCA9ICfliJrliJonOwogIH0gZWxzZSBpZiAodGltZURpZmYgPiA2MDAwMCAmJiB0aW1lRGlmZiA8IDM2MDAwMDApIHsKICAgIC8vMeWwj+aXtuWGhQogICAgdGltZVRleHQgPSBNYXRoLmZsb29yKHRpbWVEaWZmIC8gNjAwMDApICsgJ+WIhumSn+WJjSc7CiAgfSBlbHNlIGlmICh0aW1lRGlmZiA+PSAzNjAwMDAwICYmIHRpbWVEaWZmIDwgODY0MDAwMDAgJiYgIWlzWWVzdGRheShkYXRlVGltZSkpIHsKICAgIC8v5LuK5pelCiAgICB0aW1lVGV4dCA9IGZvcm1hdERhdGVUaW1lKGRhdGVUaW1lKS5zdWJzdHIoMTEsIDUpOwogIH0gZWxzZSBpZiAoaXNZZXN0ZGF5KGRhdGVUaW1lKSkgewogICAgLy/mmKjlpKkKICAgIHRpbWVUZXh0ID0gJ+aYqOWkqScgKyBmb3JtYXREYXRlVGltZShkYXRlVGltZSkuc3Vic3RyKDExLCA1KTsKICB9IGVsc2UgaWYgKGlzWWVhcihkYXRlVGltZSkpIHsKICAgIC8v5LuK5bm0CiAgICB0aW1lVGV4dCA9IGZvcm1hdERhdGVUaW1lKGRhdGVUaW1lKS5zdWJzdHIoNSwgc2ltcGxlID8gNSA6IDE0KTsKICB9IGVsc2UgewogICAgLy/kuI3lsZ7kuo7ku4rlubQKICAgIHRpbWVUZXh0ID0gZm9ybWF0RGF0ZVRpbWUoZGF0ZVRpbWUpOwogICAgaWYgKHNpbXBsZSkgewogICAgICB0aW1lVGV4dCA9IHRpbWVUZXh0LnN1YnN0cmluZygyLCA1KTsKICAgIH0KICB9CiAgcmV0dXJuIHRpbWVUZXh0Owp9OwpsZXQgaXNZZXN0ZGF5ID0gZGF0ZSA9PiB7CiAgdmFyIHllc3RlcmRheSA9IG5ldyBEYXRlKG5ldyBEYXRlKCkgLSAxMDAwICogNjAgKiA2MCAqIDI0KTsKICByZXR1cm4geWVzdGVyZGF5LmdldFllYXIoKSA9PT0gZGF0ZS5nZXRZZWFyKCkgJiYgeWVzdGVyZGF5LmdldE1vbnRoKCkgPT09IGRhdGUuZ2V0TW9udGgoKSAmJiB5ZXN0ZXJkYXkuZ2V0RGF0ZSgpID09PSBkYXRlLmdldERhdGUoKTsKfTsKbGV0IGlzWWVhciA9IGRhdGUgPT4gewogIHJldHVybiBkYXRlLmdldFllYXIoKSA9PT0gbmV3IERhdGUoKS5nZXRZZWFyKCk7Cn07CmxldCBmb3JtYXREYXRlVGltZSA9IGRhdGUgPT4gewogIGlmIChkYXRlID09PSAnJyB8fCAhZGF0ZSkgewogICAgcmV0dXJuICcnOwogIH0KICB2YXIgZGF0ZU9iamVjdCA9IG5ldyBEYXRlKGRhdGUpOwogIHZhciB5ID0gZGF0ZU9iamVjdC5nZXRGdWxsWWVhcigpOwogIHZhciBtID0gZGF0ZU9iamVjdC5nZXRNb250aCgpICsgMTsKICBtID0gbSA8IDEwID8gJzAnICsgbSA6IG07CiAgdmFyIGQgPSBkYXRlT2JqZWN0LmdldERhdGUoKTsKICBkID0gZCA8IDEwID8gJzAnICsgZCA6IGQ7CiAgdmFyIGggPSBkYXRlT2JqZWN0LmdldEhvdXJzKCk7CiAgaCA9IGggPCAxMCA/ICcwJyArIGggOiBoOwogIHZhciBtaW51dGUgPSBkYXRlT2JqZWN0LmdldE1pbnV0ZXMoKTsKICBtaW51dGUgPSBtaW51dGUgPCAxMCA/ICcwJyArIG1pbnV0ZSA6IG1pbnV0ZTsKICB2YXIgc2Vjb25kID0gZGF0ZU9iamVjdC5nZXRTZWNvbmRzKCk7CiAgc2Vjb25kID0gc2Vjb25kIDwgMTAgPyAnMCcgKyBzZWNvbmQgOiBzZWNvbmQ7CiAgcmV0dXJuIHkgKyAnLycgKyBtICsgJy8nICsgZCArICcgJyArIGggKyAnOicgKyBtaW51dGUgKyAnOicgKyBzZWNvbmQ7Cn07CmV4cG9ydCB7IHRvVGltZVRleHQsIGlzWWVzdGRheSwgaXNZZWFyLCBmb3JtYXREYXRlVGltZSB9Ow=="},{"version":3,"names":["toTimeText","timeStamp","simple","dateTime","Date","currentTime","parse","timeDiff","timeText","Math","floor","isYestday","formatDateTime","substr","isYear","substring","date","yesterday","getYear","getMonth","getDate","dateObject","y","getFullYear","m","d","h","getHours","minute","getMinutes","second","getSeconds"],"sources":["D:/im-ui/src/api/date.js"],"sourcesContent":["let toTimeText = (timeStamp, simple) => {\n\tvar dateTime = new Date(timeStamp)\n\tvar currentTime = Date.parse(new Date()); //当前时间\n\tvar timeDiff = currentTime - dateTime; //与当前时间误差\n\tvar timeText = '';\n\tif (timeDiff <= 60000) { //一分钟内\n\t\ttimeText = '刚刚';\n\t} else if (timeDiff > 60000 && timeDiff < 3600000) { \n\t\t//1小时内\n\t\ttimeText = Math.floor(timeDiff / 60000) + '分钟前';\n\t} else if (timeDiff >= 3600000 && timeDiff < 86400000 && !isYestday(dateTime)) { \n\t\t//今日\n\t\ttimeText = formatDateTime(dateTime).substr(11, 5);\n\t} else if (isYestday(dateTime)) { \n\t\t//昨天\n\t\ttimeText = '昨天' + formatDateTime(dateTime).substr(11, 5); \n\t} else if (isYear(dateTime)) { \n\t\t//今年\n\t\ttimeText = formatDateTime(dateTime).substr(5, simple ? 5 : 14);\n\t} else { \n\t\t//不属于今年\n\t\ttimeText = formatDateTime(dateTime);\n\t\tif(simple){\n\t\t\ttimeText = timeText.substring(2,5);\n\t\t}\n\t}\n\treturn timeText;\n}\n\nlet isYestday = (date) => {\n\tvar yesterday = new Date(new Date() - 1000 * 60 * 60 * 24);\n\treturn yesterday.getYear() === date.getYear() &&\n\t\tyesterday.getMonth() === date.getMonth() &&\n\t\tyesterday.getDate() === date.getDate();\n}\n\nlet isYear = (date) => {\n\treturn date.getYear() === new Date().getYear();\n}\n\nlet formatDateTime = (date) => {\n\tif (date === '' || !date) {\n\t\treturn ''\n\t}\n\tvar dateObject = new Date(date)\n\tvar y = dateObject.getFullYear()\n\tvar m = dateObject.getMonth() + 1\n\tm = m < 10 ? ('0' + m) : m\n\tvar d = dateObject.getDate()\n\td = d < 10 ? ('0' + d) : d\n\tvar h = dateObject.getHours()\n\th = h < 10 ? ('0' + h) : h\n\tvar minute = dateObject.getMinutes()\n\tminute = minute < 10 ? ('0' + minute) : minute\n\tvar second = dateObject.getSeconds()\n\tsecond = second < 10 ? ('0' + second) : second\n\treturn y + '/' + m + '/' + d + ' ' + h + ':' + minute + ':' + second\n}\n\n\nexport{\n\ttoTimeText,\n\tisYestday,\n\tisYear,\n\tformatDateTime\n}"],"mappings":"AAAA,IAAIA,UAAU,GAAGA,CAACC,SAAS,EAAEC,MAAM,KAAK;EACvC,IAAIC,QAAQ,GAAG,IAAIC,IAAI,CAACH,SAAS,CAAC;EAClC,IAAII,WAAW,GAAGD,IAAI,CAACE,KAAK,CAAC,IAAIF,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1C,IAAIG,QAAQ,GAAGF,WAAW,GAAGF,QAAQ,CAAC,CAAC;EACvC,IAAIK,QAAQ,GAAG,EAAE;EACjB,IAAID,QAAQ,IAAI,KAAK,EAAE;IAAE;IACxBC,QAAQ,GAAG,IAAI;EAChB,CAAC,MAAM,IAAID,QAAQ,GAAG,KAAK,IAAIA,QAAQ,GAAG,OAAO,EAAE;IAClD;IACAC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACH,QAAQ,GAAG,KAAK,CAAC,GAAG,KAAK;EAChD,CAAC,MAAM,IAAIA,QAAQ,IAAI,OAAO,IAAIA,QAAQ,GAAG,QAAQ,IAAI,CAACI,SAAS,CAACR,QAAQ,CAAC,EAAE;IAC9E;IACAK,QAAQ,GAAGI,cAAc,CAACT,QAAQ,CAAC,CAACU,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;EAClD,CAAC,MAAM,IAAIF,SAAS,CAACR,QAAQ,CAAC,EAAE;IAC/B;IACAK,QAAQ,GAAG,IAAI,GAAGI,cAAc,CAACT,QAAQ,CAAC,CAACU,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;EACzD,CAAC,MAAM,IAAIC,MAAM,CAACX,QAAQ,CAAC,EAAE;IAC5B;IACAK,QAAQ,GAAGI,cAAc,CAACT,QAAQ,CAAC,CAACU,MAAM,CAAC,CAAC,EAAEX,MAAM,GAAG,CAAC,GAAG,EAAE,CAAC;EAC/D,CAAC,MAAM;IACN;IACAM,QAAQ,GAAGI,cAAc,CAACT,QAAQ,CAAC;IACnC,IAAGD,MAAM,EAAC;MACTM,QAAQ,GAAGA,QAAQ,CAACO,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC;IACnC;EACD;EACA,OAAOP,QAAQ;AAChB,CAAC;AAED,IAAIG,SAAS,GAAIK,IAAI,IAAK;EACzB,IAAIC,SAAS,GAAG,IAAIb,IAAI,CAAC,IAAIA,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;EAC1D,OAAOa,SAAS,CAACC,OAAO,CAAC,CAAC,KAAKF,IAAI,CAACE,OAAO,CAAC,CAAC,IAC5CD,SAAS,CAACE,QAAQ,CAAC,CAAC,KAAKH,IAAI,CAACG,QAAQ,CAAC,CAAC,IACxCF,SAAS,CAACG,OAAO,CAAC,CAAC,KAAKJ,IAAI,CAACI,OAAO,CAAC,CAAC;AACxC,CAAC;AAED,IAAIN,MAAM,GAAIE,IAAI,IAAK;EACtB,OAAOA,IAAI,CAACE,OAAO,CAAC,CAAC,KAAK,IAAId,IAAI,CAAC,CAAC,CAACc,OAAO,CAAC,CAAC;AAC/C,CAAC;AAED,IAAIN,cAAc,GAAII,IAAI,IAAK;EAC9B,IAAIA,IAAI,KAAK,EAAE,IAAI,CAACA,IAAI,EAAE;IACzB,OAAO,EAAE;EACV;EACA,IAAIK,UAAU,GAAG,IAAIjB,IAAI,CAACY,IAAI,CAAC;EAC/B,IAAIM,CAAC,GAAGD,UAAU,CAACE,WAAW,CAAC,CAAC;EAChC,IAAIC,CAAC,GAAGH,UAAU,CAACF,QAAQ,CAAC,CAAC,GAAG,CAAC;EACjCK,CAAC,GAAGA,CAAC,GAAG,EAAE,GAAI,GAAG,GAAGA,CAAC,GAAIA,CAAC;EAC1B,IAAIC,CAAC,GAAGJ,UAAU,CAACD,OAAO,CAAC,CAAC;EAC5BK,CAAC,GAAGA,CAAC,GAAG,EAAE,GAAI,GAAG,GAAGA,CAAC,GAAIA,CAAC;EAC1B,IAAIC,CAAC,GAAGL,UAAU,CAACM,QAAQ,CAAC,CAAC;EAC7BD,CAAC,GAAGA,CAAC,GAAG,EAAE,GAAI,GAAG,GAAGA,CAAC,GAAIA,CAAC;EAC1B,IAAIE,MAAM,GAAGP,UAAU,CAACQ,UAAU,CAAC,CAAC;EACpCD,MAAM,GAAGA,MAAM,GAAG,EAAE,GAAI,GAAG,GAAGA,MAAM,GAAIA,MAAM;EAC9C,IAAIE,MAAM,GAAGT,UAAU,CAACU,UAAU,CAAC,CAAC;EACpCD,MAAM,GAAGA,MAAM,GAAG,EAAE,GAAI,GAAG,GAAGA,MAAM,GAAIA,MAAM;EAC9C,OAAOR,CAAC,GAAG,GAAG,GAAGE,CAAC,GAAG,GAAG,GAAGC,CAAC,GAAG,GAAG,GAAGC,CAAC,GAAG,GAAG,GAAGE,MAAM,GAAG,GAAG,GAAGE,MAAM;AACrE,CAAC;AAGD,SACC9B,UAAU,EACVW,SAAS,EACTG,MAAM,EACNF,cAAc","ignoreList":[]}]}