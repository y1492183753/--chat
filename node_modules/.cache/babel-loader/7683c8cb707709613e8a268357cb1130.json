{"remainingRequest":"D:\\im-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\im-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\im-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\im-ui\\src\\components\\common\\UserInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\im-ui\\src\\components\\common\\UserInfo.vue","mtime":1703809564000},{"path":"D:\\im-ui\\babel.config.js","mtime":1703809560000},{"path":"D:\\im-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710142170000},{"path":"D:\\im-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1710142166000},{"path":"D:\\im-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710142170000},{"path":"D:\\im-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1710142168000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBIZWFkSW1hZ2UgZnJvbSAnLi9IZWFkSW1hZ2UudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ1c2VySW5mbyIsCiAgY29tcG9uZW50czogewogICAgSGVhZEltYWdlCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgcHJvcHM6IHsKICAgIHVzZXI6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9LAogICAgcG9zOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25TZW5kTWVzc2FnZSgpIHsKICAgICAgbGV0IHVzZXIgPSB0aGlzLnVzZXI7CiAgICAgIGxldCBjaGF0ID0gewogICAgICAgIHR5cGU6ICdQUklWQVRFJywKICAgICAgICB0YXJnZXRJZDogdXNlci5pZCwKICAgICAgICBzaG93TmFtZTogdXNlci5uaWNrTmFtZSwKICAgICAgICBoZWFkSW1hZ2U6IHVzZXIuaGVhZEltYWdlCiAgICAgIH07CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3BlbkNoYXQiLCBjaGF0KTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJhY3RpdmVDaGF0IiwgMCk7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoICE9ICIvaG9tZS9jaGF0IikgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvaG9tZS9jaGF0Iik7CiAgICAgIH0KICAgICAgdGhpcy4kZW1pdCgiY2xvc2UiKTsKICAgIH0sCiAgICBvbkFkZEZyaWVuZCgpIHsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgdXJsOiAiL2ZyaWVuZC9hZGQiLAogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgZnJpZW5kSWQ6IHRoaXMudXNlci5pZAogICAgICAgIH0KICAgICAgfSkudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIua3u+WKoOaIkOWKn++8jOWvueaWueW3suaIkOS4uuaCqOeahOWlveWPiyIpOwogICAgICAgIGxldCBmcmllbmQgPSB7CiAgICAgICAgICBpZDogdGhpcy51c2VyLmlkLAogICAgICAgICAgbmlja05hbWU6IHRoaXMudXNlci5uaWNrTmFtZSwKICAgICAgICAgIGhlYWRJbWFnZTogdGhpcy51c2VyLmhlYWRJbWFnZVRodW1iLAogICAgICAgICAgb25saW5lOiB0aGlzLnVzZXIub25saW5lCiAgICAgICAgfTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImFkZEZyaWVuZCIsIGZyaWVuZCk7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dGdWxsSW1hZ2UoKSB7CiAgICAgIGlmICh0aGlzLnVzZXIuaGVhZEltYWdlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzaG93RnVsbEltYWdlQm94IiwgdGhpcy51c2VyLmhlYWRJbWFnZSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0ZyaWVuZCgpIHsKICAgICAgbGV0IGZyaWVuZHMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5mcmllbmRTdG9yZS5mcmllbmRzOwogICAgICBsZXQgZnJpZW5kID0gZnJpZW5kcy5maW5kKGYgPT4gZi5pZCA9PSB0aGlzLnVzZXIuaWQpOwogICAgICByZXR1cm4gZnJpZW5kICE9IHVuZGVmaW5lZDsKICAgIH0KICB9Cn07"},{"version":3,"names":["HeadImage","name","components","data","props","user","type","Object","pos","methods","onSendMessage","chat","targetId","id","showName","nickName","headImage","$store","commit","$route","path","$router","push","$emit","onAddFriend","$http","url","method","params","friendId","then","$message","success","friend","headImageThumb","online","showFullImage","computed","isFriend","friends","state","friendStore","find","f","undefined"],"sources":["src/components/common/UserInfo.vue"],"sourcesContent":["<template>\n\t<div class=\"user-info-mask\" @click=\"$emit('close')\">\n\t\t<div class=\"user-info\" :style=\"{left: pos.x+'px',top: pos.y+'px'}\" @click.stop>\n\t\t\t<div class=\"user-info-box\">\n\t\t\t\t<div class=\"avatar\">\n\t\t\t\t\t<head-image :name=\"user.nickName\" :url=\"user.headImageThumb\" :size=\"60\" :online=\"user.online\"\n\t\t\t\t\t\t@click.native=\"showFullImage()\"> </head-image>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<el-descriptions :column=\"1\" :title=\"user.userName\" class=\"user-info-items\">\n\t\t\t\t\t\t<el-descriptions-item label=\"昵称\">{{ user.nickName }}\n\t\t\t\t\t\t</el-descriptions-item>\n\t\t\t\t\t\t<el-descriptions-item label=\"签名\">{{ user.signature }}\n\t\t\t\t\t\t</el-descriptions-item>\n\t\t\t\t\t</el-descriptions>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t\t<el-divider content-position=\"center\"></el-divider>\n\t\t\t<div class=\"user-btn-group\">\n\t\t\t\t<el-button v-show=\"isFriend\" type=\"primary\" @click=\"onSendMessage()\">发消息</el-button>\n\t\t\t\t<el-button v-show=\"!isFriend\" type=\"primary\" @click=\"onAddFriend()\">加为好友</el-button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport HeadImage from './HeadImage.vue'\n\n\texport default {\n\t\tname: \"userInfo\",\n\t\tcomponents: {\n\t\t\tHeadImage\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tuser: {\n\t\t\t\ttype: Object\n\t\t\t},\n\t\t\tpos: {\n\t\t\t\ttype: Object\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tonSendMessage() {\n\t\t\t\tlet user = this.user;\n\t\t\t\tlet chat = {\n\t\t\t\t\ttype: 'PRIVATE',\n\t\t\t\t\ttargetId: user.id,\n\t\t\t\t\tshowName: user.nickName,\n\t\t\t\t\theadImage: user.headImage,\n\t\t\t\t};\n\t\t\t\tthis.$store.commit(\"openChat\", chat);\n\t\t\t\tthis.$store.commit(\"activeChat\", 0);\n\t\t\t\tif (this.$route.path != \"/home/chat\") {\n\t\t\t\t\tthis.$router.push(\"/home/chat\");\n\t\t\t\t}\n\t\t\t\tthis.$emit(\"close\");\n\t\t\t},\n\t\t\tonAddFriend() {\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: \"/friend/add\",\n\t\t\t\t\tmethod: \"post\",\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tfriendId: this.user.id\n\t\t\t\t\t}\n\t\t\t\t}).then((data) => {\n\t\t\t\t\tthis.$message.success(\"添加成功，对方已成为您的好友\");\n\t\t\t\t\tlet friend = {\n\t\t\t\t\t\tid: this.user.id,\n\t\t\t\t\t\tnickName: this.user.nickName,\n\t\t\t\t\t\theadImage: this.user.headImageThumb,\n\t\t\t\t\t\tonline: this.user.online\n\t\t\t\t\t}\n\t\t\t\t\tthis.$store.commit(\"addFriend\", friend);\n\t\t\t\t})\n\t\t\t},\n\t\t\tshowFullImage() {\n\t\t\t\tif (this.user.headImage) {\n\t\t\t\t\tthis.$store.commit(\"showFullImageBox\", this.user.headImage);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tisFriend() {\n\t\t\t\tlet friends = this.$store.state.friendStore.friends;\n\t\t\t\tlet friend = friends.find((f) => f.id == this.user.id);\n\t\t\t\treturn friend != undefined;\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.user-info-mask {\n\t\tbackground-color: rgba($color: #000000, $alpha: 0);\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.user-info {\n\t\tposition: absolute;\n\t\twidth: 300px;\n\t\tbackground-color: white;\n\t\tborder: #dddddd solid 1px;\n\t\tborder-radius: 5px;\n\t\tpadding: 15px;\n\n\t\t.user-info-box {\n\t\t\tdisplay: flex;\n\n\t\t\t.user-info-items {\n\t\t\t\tmargin-left: 10px;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\n\t\t\t\t.el-descriptions__header {\n\t\t\t\t\tmargin-bottom: 5px;\n\t\t\t\t}\n\n\t\t\t\t.el-descriptions__title {\n\t\t\t\t\tfont-size: 20px;\n\t\t\t\t}\n\n\t\t\t\t.el-descriptions-item__cell {\n\t\t\t\t\tpadding-bottom: 1px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.user-btn-group {\n\t\t\ttext-align: center;\n\t\t}\n\t}\n</style>"],"mappings":";AA4BA,OAAAA,SAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAF;EACA;EACAG,KAAA;IACA,QAEA;EACA;EACAC,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC;IACA;IACAC,GAAA;MACAF,IAAA,EAAAC;IACA;EACA;EACAE,OAAA;IACAC,cAAA;MACA,IAAAL,IAAA,QAAAA,IAAA;MACA,IAAAM,IAAA;QACAL,IAAA;QACAM,QAAA,EAAAP,IAAA,CAAAQ,EAAA;QACAC,QAAA,EAAAT,IAAA,CAAAU,QAAA;QACAC,SAAA,EAAAX,IAAA,CAAAW;MACA;MACA,KAAAC,MAAA,CAAAC,MAAA,aAAAP,IAAA;MACA,KAAAM,MAAA,CAAAC,MAAA;MACA,SAAAC,MAAA,CAAAC,IAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA;MACA,KAAAC,KAAA;IACA;IACAC,YAAA;MACA,KAAAC,KAAA;QACAC,GAAA;QACAC,MAAA;QACAC,MAAA;UACAC,QAAA,OAAAxB,IAAA,CAAAQ;QACA;MACA,GAAAiB,IAAA,CAAA3B,IAAA;QACA,KAAA4B,QAAA,CAAAC,OAAA;QACA,IAAAC,MAAA;UACApB,EAAA,OAAAR,IAAA,CAAAQ,EAAA;UACAE,QAAA,OAAAV,IAAA,CAAAU,QAAA;UACAC,SAAA,OAAAX,IAAA,CAAA6B,cAAA;UACAC,MAAA,OAAA9B,IAAA,CAAA8B;QACA;QACA,KAAAlB,MAAA,CAAAC,MAAA,cAAAe,MAAA;MACA;IACA;IACAG,cAAA;MACA,SAAA/B,IAAA,CAAAW,SAAA;QACA,KAAAC,MAAA,CAAAC,MAAA,0BAAAb,IAAA,CAAAW,SAAA;MACA;IACA;EACA;EACAqB,QAAA;IACAC,SAAA;MACA,IAAAC,OAAA,QAAAtB,MAAA,CAAAuB,KAAA,CAAAC,WAAA,CAAAF,OAAA;MACA,IAAAN,MAAA,GAAAM,OAAA,CAAAG,IAAA,CAAAC,CAAA,IAAAA,CAAA,CAAA9B,EAAA,SAAAR,IAAA,CAAAQ,EAAA;MACA,OAAAoB,MAAA,IAAAW,SAAA;IACA;EACA;AACA","ignoreList":[]}]}