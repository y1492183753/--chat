{"remainingRequest":"D:\\im-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\im-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\im-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\im-ui\\src\\components\\chat\\ChatGroupSide.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\im-ui\\src\\components\\chat\\ChatGroupSide.vue","mtime":1703809562000},{"path":"D:\\im-ui\\babel.config.js","mtime":1703809560000},{"path":"D:\\im-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710142170000},{"path":"D:\\im-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1710142166000},{"path":"D:\\im-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710142170000},{"path":"D:\\im-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1710142168000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEFkZEdyb3VwTWVtYmVyIGZyb20gJy4uL2dyb3VwL0FkZEdyb3VwTWVtYmVyLnZ1ZSc7CmltcG9ydCBHcm91cE1lbWJlciBmcm9tICcuLi9ncm91cC9Hcm91cE1lbWJlci52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNoYXRHcm91cFNpZGUiLAogIGNvbXBvbmVudHM6IHsKICAgIEFkZEdyb3VwTWVtYmVyLAogICAgR3JvdXBNZW1iZXIKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2hUZXh0OiAiIiwKICAgICAgZWRpdGluZzogZmFsc2UsCiAgICAgIHNob3dBZGRHcm91cE1lbWJlcjogZmFsc2UKICAgIH07CiAgfSwKICBwcm9wczogewogICAgZ3JvdXA6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9LAogICAgZ3JvdXBNZW1iZXJzOiB7CiAgICAgIHR5cGU6IEFycmF5CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZScpOwogICAgfSwKICAgIGxvYWRHcm91cE1lbWJlcnMoKSB7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIHVybDogYC9ncm91cC9tZW1iZXJzLyR7dGhpcy5ncm91cC5pZH1gLAogICAgICAgIG1ldGhvZDogImdldCIKICAgICAgfSkudGhlbihtZW1iZXJzID0+IHsKICAgICAgICB0aGlzLmdyb3VwTWVtYmVycyA9IG1lbWJlcnM7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU2F2ZUdyb3VwKCkgewogICAgICBsZXQgdm8gPSB0aGlzLmdyb3VwOwogICAgICB0aGlzLiRodHRwKHsKICAgICAgICB1cmw6ICIvZ3JvdXAvbW9kaWZ5IiwKICAgICAgICBtZXRob2Q6ICJwdXQiLAogICAgICAgIGRhdGE6IHZvCiAgICAgIH0pLnRoZW4oZ3JvdXAgPT4gewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlR3JvdXAiLCBncm91cCk7CiAgICAgICAgdGhpcy4kZW1pdCgncmVsb2FkJyk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLkv67mlLnmiJDlip8iKTsKICAgICAgfSk7CiAgICB9LAogICAgb25RdWl0KCkgewogICAgICB0aGlzLiRjb25maXJtKCfpgIDlh7rnvqTogYrlkI7lsIbkuI3lho3mjqXlj5fnvqTph4znmoTmtojmga/vvIznoa7orqTpgIDlh7rlkJfvvJ8nLCAn56Gu6K6k6YCA5Ye6PycsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJGh0dHAoewogICAgICAgICAgdXJsOiBgL2dyb3VwL3F1aXQvJHt0aGlzLmdyb3VwLmlkfWAsCiAgICAgICAgICBtZXRob2Q6ICdkZWxldGUnCiAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInJlbW92ZUdyb3VwIiwgdGhpcy5ncm91cC5pZCk7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImFjdGl2ZUdyb3VwIiwgLTEpOwogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJyZW1vdmVHcm91cENoYXQiLCB0aGlzLmdyb3VwLmlkKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgb3duZXJOYW1lKCkgewogICAgICBsZXQgbWVtYmVyID0gdGhpcy5ncm91cE1lbWJlcnMuZmluZChtID0+IG0udXNlcklkID09IHRoaXMuZ3JvdXAub3duZXJJZCk7CiAgICAgIHJldHVybiBtZW1iZXIgJiYgbWVtYmVyLmFsaWFzTmFtZTsKICAgIH0sCiAgICBpc093bmVyKCkgewogICAgICByZXR1cm4gdGhpcy5ncm91cC5vd25lcklkID09IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJTdG9yZS51c2VySW5mby5pZDsKICAgIH0KICB9Cn07"},{"version":3,"names":["AddGroupMember","GroupMember","name","components","data","searchText","editing","showAddGroupMember","props","group","type","Object","groupMembers","Array","methods","onClose","$emit","loadGroupMembers","$http","url","id","method","then","members","onSaveGroup","vo","$store","commit","$message","success","onQuit","$confirm","confirmButtonText","cancelButtonText","computed","ownerName","member","find","m","userId","ownerId","aliasName","isOwner","state","userStore","userInfo"],"sources":["src/components/chat/ChatGroupSide.vue"],"sourcesContent":["<template>\n\t<div class=\"chat-group-side\">\n\t\t<div class=\"group-side-search\">\n\t\t\t<el-input placeholder=\"搜索群成员\" v-model=\"searchText\">\n\t\t\t\t<el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\n\t\t\t</el-input>\n\t\t</div>\n\t\t<el-scrollbar class=\"group-side-scrollbar\">\n\t\t\t<div class=\"group-side-member-list\">\n\t\t\t\t<div class=\"group-side-invite\">\n\t\t\t\t\t<div class=\"invite-member-btn\" title=\"邀请好友进群聊\" @click=\"showAddGroupMember=true\">\n\t\t\t\t\t\t<i class=\"el-icon-plus\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"invite-member-text\">邀请</div>\n\t\t\t\t\t<add-group-member :visible=\"showAddGroupMember\" :groupId=\"group.id\" :members=\"groupMembers\" @reload=\"$emit('reload')\"\n\t\t\t\t\t @close=\"showAddGroupMember=false\"></add-group-member>\n\t\t\t\t</div>\n\t\t\t\t<div v-for=\"(member) in groupMembers\" :key=\"member.id\">\n\t\t\t\t\t<group-member class=\"group-side-member\" v-show=\"!member.quit && member.aliasName.startsWith(searchText)\" :member=\"member\"\n\t\t\t\t\t :showDel=\"false\"></group-member>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<el-divider content-position=\"center\"></el-divider>\n\t\t\t<el-form labelPosition=\"top\" class=\"group-side-form\" :model=\"group\">\n\t\t\t\t<el-form-item label=\"群聊名称\">\n\t\t\t\t\t<el-input v-model=\"group.name\" disabled maxlength=\"20\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"群主\">\n\t\t\t\t\t<el-input :value=\"ownerName\" disabled></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"群公告\">\n\t\t\t\t\t<el-input v-model=\"group.notice\" disabled type=\"textarea\" maxlength=\"1024\" placeholder=\"群主未设置\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"备注\">\n\t\t\t\t\t<el-input v-model=\"group.remark\" :disabled=\"!editing\" placeholder=\"群聊的备注仅自己可见\" maxlength=\"20\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"我在本群的昵称\">\n\t\t\t\t\t<el-input v-model=\"group.aliasName\" :disabled=\"!editing\" placeholder=\"xx\" maxlength=\"20\"></el-input>\n\t\t\t\t</el-form-item>\n\n\t\t\t\t<div class=\"btn-group\">\n\t\t\t\t\t<el-button v-show=\"editing\" type=\"success\" @click=\"onSaveGroup()\">提交</el-button>\n\t\t\t\t\t<el-button v-show=\"!editing\" type=\"primary\" @click=\"editing=!editing\">编辑</el-button>\n\t\t\t\t\t<el-button type=\"danger\" v-show=\"!isOwner\" @click=\"onQuit()\">退出群聊</el-button>\n\t\t\t\t</div>\n\t\t\t</el-form>\n\t\t</el-scrollbar>\n\n\t</div>\n</template>\n\n<script>\n\timport AddGroupMember from '../group/AddGroupMember.vue';\n\timport GroupMember from '../group/GroupMember.vue';\n\n\texport default {\n\t\tname: \"chatGroupSide\",\n\t\tcomponents: {\n\t\t\tAddGroupMember,\n\t\t\tGroupMember\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsearchText: \"\",\n\t\t\t\tediting: false,\n\t\t\t\tshowAddGroupMember: false\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tgroup: {\n\t\t\t\ttype: Object\n\t\t\t},\n\t\t\tgroupMembers: {\n\t\t\t\ttype: Array\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tonClose() {\n\t\t\t\tthis.$emit('close');\n\t\t\t},\n\t\t\tloadGroupMembers() {\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/group/members/${this.group.id}`,\n\t\t\t\t\tmethod: \"get\"\n\t\t\t\t}).then((members) => {\n\t\t\t\t\tthis.groupMembers = members;\n\t\t\t\t})\n\t\t\t},\n\t\t\tonSaveGroup() {\n\t\t\t\tlet vo = this.group;\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: \"/group/modify\",\n\t\t\t\t\tmethod: \"put\",\n\t\t\t\t\tdata: vo\n\t\t\t\t}).then((group) => {\n\t\t\t\t\tthis.$store.commit(\"updateGroup\", group);\n\t\t\t\t\tthis.$emit('reload');\n\t\t\t\t\tthis.$message.success(\"修改成功\");\n\t\t\t\t})\n\t\t\t},\n\t\t\tonQuit() {\n\t\t\t\tthis.$confirm('退出群聊后将不再接受群里的消息，确认退出吗？', '确认退出?', {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.$http({\n\t\t\t\t\t\turl: `/group/quit/${this.group.id}`,\n\t\t\t\t\t\tmethod: 'delete'\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tthis.$store.commit(\"removeGroup\", this.group.id);\n\t\t\t\t\t\tthis.$store.commit(\"activeGroup\", -1);\n\t\t\t\t\t\tthis.$store.commit(\"removeGroupChat\", this.group.id);\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t},\n\n\t\t},\n\t\tcomputed: {\n\t\t\townerName() {\n\t\t\t\tlet member = this.groupMembers.find((m) => m.userId == this.group.ownerId);\n\t\t\t\treturn member && member.aliasName;\n\t\t\t},\n\t\t\tisOwner() {\n\t\t\t\treturn this.group.ownerId == this.$store.state.userStore.userInfo.id;\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.chat-group-side {\n\t\tposition: relative;\n\n\t\t.group-side-member-list {\n\t\t\tpadding: 10px;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tflex-wrap: wrap;\n\t\t\tfont-size: 16px;\n\t\t\ttext-align: center;\n\n\t\t\t.group-side-member {\n\t\t\t\tmargin-left: 15px;\n\t\t\t}\n\n\t\t\t.group-side-invite {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\twidth: 50px;\n\t\t\t\tmargin-left: 15px;\n\n\t\t\t\t.invite-member-btn {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 50px;\n\t\t\t\t\tline-height: 50px;\n\t\t\t\t\tborder: #cccccc solid 1px;\n\t\t\t\t\tfont-size: 25px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tbox-sizing: border-box;\n\n\t\t\t\t\t&:hover {\n\t\t\t\t\t\tborder: #aaaaaa solid 1px;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.invite-member-text {\n\t\t\t\t\tfont-size: 16px;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 30px;\n\t\t\t\t\tline-height: 30px;\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\toverflow: hidden\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.group-side-form {\n\t\t\ttext-align: left;\n\t\t\tpadding: 10px;\n\t\t\theight: 30%;\n\n\t\t\t.el-form-item {\n\t\t\t\tmargin-bottom: 12px;\n\n\t\t\t\t.el-form-item__label {\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\tline-height: 30px;\n\t\t\t\t}\n\n\t\t\t\t.el-textarea__inner {\n\t\t\t\t\tmin-height: 100px !important;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.btn-group {\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t}\n\n\t}\n</style>\n"],"mappings":"AAoDA,OAAAA,cAAA;AACA,OAAAC,WAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAH,cAAA;IACAC;EACA;EACAG,KAAA;IACA;MACAC,UAAA;MACAC,OAAA;MACAC,kBAAA;IACA;EACA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC;IACA;IACAC,YAAA;MACAF,IAAA,EAAAG;IACA;EACA;EACAC,OAAA;IACAC,QAAA;MACA,KAAAC,KAAA;IACA;IACAC,iBAAA;MACA,KAAAC,KAAA;QACAC,GAAA,yBAAAV,KAAA,CAAAW,EAAA;QACAC,MAAA;MACA,GAAAC,IAAA,CAAAC,OAAA;QACA,KAAAX,YAAA,GAAAW,OAAA;MACA;IACA;IACAC,YAAA;MACA,IAAAC,EAAA,QAAAhB,KAAA;MACA,KAAAS,KAAA;QACAC,GAAA;QACAE,MAAA;QACAjB,IAAA,EAAAqB;MACA,GAAAH,IAAA,CAAAb,KAAA;QACA,KAAAiB,MAAA,CAAAC,MAAA,gBAAAlB,KAAA;QACA,KAAAO,KAAA;QACA,KAAAY,QAAA,CAAAC,OAAA;MACA;IACA;IACAC,OAAA;MACA,KAAAC,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAvB,IAAA;MACA,GAAAY,IAAA;QACA,KAAAJ,KAAA;UACAC,GAAA,sBAAAV,KAAA,CAAAW,EAAA;UACAC,MAAA;QACA,GAAAC,IAAA;UACA,KAAAI,MAAA,CAAAC,MAAA,qBAAAlB,KAAA,CAAAW,EAAA;UACA,KAAAM,MAAA,CAAAC,MAAA;UACA,KAAAD,MAAA,CAAAC,MAAA,yBAAAlB,KAAA,CAAAW,EAAA;QACA;MACA;IACA;EAEA;EACAc,QAAA;IACAC,UAAA;MACA,IAAAC,MAAA,QAAAxB,YAAA,CAAAyB,IAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAC,MAAA,SAAA9B,KAAA,CAAA+B,OAAA;MACA,OAAAJ,MAAA,IAAAA,MAAA,CAAAK,SAAA;IACA;IACAC,QAAA;MACA,YAAAjC,KAAA,CAAA+B,OAAA,SAAAd,MAAA,CAAAiB,KAAA,CAAAC,SAAA,CAAAC,QAAA,CAAAzB,EAAA;IACA;EAEA;AACA","ignoreList":[]}]}