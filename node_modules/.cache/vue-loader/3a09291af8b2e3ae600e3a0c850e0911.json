{"remainingRequest":"D:\\im-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\im-ui\\src\\components\\friend\\AddFriend.vue?vue&type=style&index=0&id=705c715e&lang=scss","dependencies":[{"path":"D:\\im-ui\\src\\components\\friend\\AddFriend.vue","mtime":1703809564000},{"path":"D:\\im-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1710142168000},{"path":"D:\\im-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1710142170000},{"path":"D:\\im-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1710142168000},{"path":"D:\\im-ui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1710142170000},{"path":"D:\\im-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710142170000},{"path":"D:\\im-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1710142168000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5lbC1kaWFsb2cgewoJbWluLXdpZHRoOiA0MDBweDsKfQouaXRlbSB7CgloZWlnaHQ6IDY1cHg7CglkaXNwbGF5OiBmbGV4OwoJcG9zaXRpb246IHJlbGF0aXZlOwoJcGFkZGluZy1sZWZ0OiAxNXB4OwoJYWxpZ24taXRlbXM6IGNlbnRlcjsKCXBhZGRpbmctcmlnaHQ6IDI1cHg7CgkKCS5hZGQtZnJpZW5kLXRleHQgewoJCW1hcmdpbi1sZWZ0OiAxNXB4OwoJCWZsZXg6IDM7CgkJZGlzcGxheTogZmxleDsKCQlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwoJCWZsZXgtc2hyaW5rOiAwOwoJCW92ZXJmbG93OiBoaWRkZW47CgkKCQkudGV4dC11c2VyLW5hbWV7CgkJCWRpc3BsYXk6IGZsZXg7CgkJCWZsZXgtZGlyZWN0aW9uOiByb3c7CgkJCWZvbnQtd2VpZ2h0OiA2MDA7CgkJCWZvbnQtc2l6ZTogMTZweDsKCQkJbGluZS1oZWlnaHQ6IDI1cHg7CgkKCQkJLm9ubGluZS1zdGF0dXN7CgkJCQlmb250LXNpemU6IDEycHg7CgkJCQlmb250LXdlaWdodDogNjAwOwoJCQkJJi5vbmxpbmV7CgkJCQkJY29sb3I6ICM1ZmI4Nzg7CgkJCQl9CgkJCX0KCQl9CgkJCgkJLnRleHQtbmljay1uYW1lewoJCQlkaXNwbGF5OiBmbGV4OwoJCQlmbGV4LWRpcmVjdGlvbjogcm93OwoJCQlmb250LXNpemU6IDEycHg7CgkJCWxpbmUtaGVpZ2h0OiAyMHB4OwoJCX0KCQkKCX0KfQo="},{"version":3,"sources":["AddFriend.vue"],"names":[],"mappings":";AA0IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"AddFriend.vue","sourceRoot":"src/components/friend","sourcesContent":["<template>\n\t<el-dialog title=\"添加好友\" :visible.sync=\"dialogVisible\" width=\"30%\" :before-close=\"onClose\">\n\t\t<el-input  placeholder=\"输入用户名或昵称,最多展示20条\" class=\"input-with-select\" v-model=\"searchText\" @keyup.enter.native=\"onSearch()\">\n\t\t\t<el-button slot=\"append\" icon=\"el-icon-search\" @click=\"onSearch()\"></el-button>\n\t\t</el-input>\n\t\t<el-scrollbar style=\"height:400px\">\n\t\t\t<div v-for=\"(user) in users\" :key=\"user.id\" v-show=\"user.id != $store.state.userStore.userInfo.id\">\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<div class=\"avatar\">\n\t\t\t\t\t\t<head-image :name=\"user.nickName\" \n\t\t\t\t\t\t:url=\"user.headImage\"\n\t\t\t\t\t\t:online=\"user.online\"\n\t\t\t\t\t\t></head-image>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"add-friend-text\">\n\t\t\t\t\t\t<div class=\"text-user-name\">\n\t\t\t\t\t\t\t<div>{{user.userName}}</div>\n\t\t\t\t\t\t\t<div :class=\"user.online ? 'online-status  online':'online-status'\">{{ user.online?\"[在线]\":\"[离线]\"}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"text-nick-name\">\n\t\t\t\t\t\t\t<div>昵称:{{user.nickName}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t <el-button type=\"success\" size=\"small\" v-show=\"!isFriend(user.id)\" plain @click=\"onAddFriend(user)\">添加</el-button>\n\t\t\t\t\t <el-button type=\"info\" size=\"small\" v-show=\"isFriend(user.id)\" plain disabled>已添加</el-button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</el-scrollbar>\n\t</el-dialog>\n</template>\n\n<script>\n\timport HeadImage from '../common/HeadImage.vue'\n\t\n\t\n\texport default {\n\t\tname: \"addFriend\",\n\t\tcomponents:{HeadImage},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tusers: [],\n\t\t\t\tsearchText: \"\"\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tdialogVisible: {\n\t\t\t\ttype: Boolean\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tonClose() {\n\t\t\t\tthis.$emit(\"close\");\n\t\t\t},\n\t\t\tonSearch() {\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: \"/user/findByName\",\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tname: this.searchText\n\t\t\t\t\t}\n\t\t\t\t}).then((data) => {\n\t\t\t\t\tthis.users = data;\n\t\t\t\t})\n\t\t\t},\n\t\t\tonAddFriend(user){\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: \"/friend/add\",\n\t\t\t\t\tmethod: \"post\",\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tfriendId: user.id\n\t\t\t\t\t}\n\t\t\t\t}).then((data) => {\n\t\t\t\t\tthis.$message.success(\"添加成功，对方已成为您的好友\");\n\t\t\t\t\tlet friend = {\n\t\t\t\t\t\tid:user.id,\n\t\t\t\t\t\tnickName: user.nickName,\n\t\t\t\t\t\theadImage: user.headImage,\n\t\t\t\t\t\tonline: user.online\n\t\t\t\t\t}\n\t\t\t\t\tthis.$store.commit(\"addFriend\",friend);\n\t\t\t\t})\n\t\t\t},\n\t\t\tisFriend(userId){\n\t\t\t\tlet friends = this.$store.state.friendStore.friends;\n\t\t\t\tlet friend = friends.find((f)=> f.id==userId);\t\t\t\n\t\t\t\treturn friend != undefined;\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style  lang=\"scss\">\n\t.el-dialog {\n\t\tmin-width: 400px;\n\t}\n\t.item {\n\t\theight: 65px;\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tpadding-left: 15px;\n\t\talign-items: center;\n\t\tpadding-right: 25px;\n\t\t\n\t\t.add-friend-text {\n\t\t\tmargin-left: 15px;\n\t\t\tflex: 3;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tflex-shrink: 0;\n\t\t\toverflow: hidden;\n\t\t\n\t\t\t.text-user-name{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tfont-size: 16px;\n\t\t\t\tline-height: 25px;\n\t\t\n\t\t\t\t.online-status{\n\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t&.online{\n\t\t\t\t\t\tcolor: #5fb878;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.text-nick-name{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tfont-size: 12px;\n\t\t\t\tline-height: 20px;\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n</style>\n"]}]}