{"remainingRequest":"D:\\im-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\im-ui\\src\\components\\chat\\ChatGroupSide.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\im-ui\\src\\components\\chat\\ChatGroupSide.vue","mtime":1703809562000},{"path":"D:\\im-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710142170000},{"path":"D:\\im-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1710142166000},{"path":"D:\\im-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710142170000},{"path":"D:\\im-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1710142168000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CglpbXBvcnQgQWRkR3JvdXBNZW1iZXIgZnJvbSAnLi4vZ3JvdXAvQWRkR3JvdXBNZW1iZXIudnVlJzsKCWltcG9ydCBHcm91cE1lbWJlciBmcm9tICcuLi9ncm91cC9Hcm91cE1lbWJlci52dWUnOwoKCWV4cG9ydCBkZWZhdWx0IHsKCQluYW1lOiAiY2hhdEdyb3VwU2lkZSIsCgkJY29tcG9uZW50czogewoJCQlBZGRHcm91cE1lbWJlciwKCQkJR3JvdXBNZW1iZXIKCQl9LAoJCWRhdGEoKSB7CgkJCXJldHVybiB7CgkJCQlzZWFyY2hUZXh0OiAiIiwKCQkJCWVkaXRpbmc6IGZhbHNlLAoJCQkJc2hvd0FkZEdyb3VwTWVtYmVyOiBmYWxzZQoJCQl9CgkJfSwKCQlwcm9wczogewoJCQlncm91cDogewoJCQkJdHlwZTogT2JqZWN0CgkJCX0sCgkJCWdyb3VwTWVtYmVyczogewoJCQkJdHlwZTogQXJyYXkKCQkJfQoJCX0sCgkJbWV0aG9kczogewoJCQlvbkNsb3NlKCkgewoJCQkJdGhpcy4kZW1pdCgnY2xvc2UnKTsKCQkJfSwKCQkJbG9hZEdyb3VwTWVtYmVycygpIHsKCQkJCXRoaXMuJGh0dHAoewoJCQkJCXVybDogYC9ncm91cC9tZW1iZXJzLyR7dGhpcy5ncm91cC5pZH1gLAoJCQkJCW1ldGhvZDogImdldCIKCQkJCX0pLnRoZW4oKG1lbWJlcnMpID0+IHsKCQkJCQl0aGlzLmdyb3VwTWVtYmVycyA9IG1lbWJlcnM7CgkJCQl9KQoJCQl9LAoJCQlvblNhdmVHcm91cCgpIHsKCQkJCWxldCB2byA9IHRoaXMuZ3JvdXA7CgkJCQl0aGlzLiRodHRwKHsKCQkJCQl1cmw6ICIvZ3JvdXAvbW9kaWZ5IiwKCQkJCQltZXRob2Q6ICJwdXQiLAoJCQkJCWRhdGE6IHZvCgkJCQl9KS50aGVuKChncm91cCkgPT4gewoJCQkJCXRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlR3JvdXAiLCBncm91cCk7CgkJCQkJdGhpcy4kZW1pdCgncmVsb2FkJyk7CgkJCQkJdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLkv67mlLnmiJDlip8iKTsKCQkJCX0pCgkJCX0sCgkJCW9uUXVpdCgpIHsKCQkJCXRoaXMuJGNvbmZpcm0oJ+mAgOWHuue+pOiBiuWQjuWwhuS4jeWGjeaOpeWPl+e+pOmHjOeahOa2iOaBr++8jOehruiupOmAgOWHuuWQl++8nycsICfnoa7orqTpgIDlh7o/JywgewoJCQkJCWNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKCQkJCQljYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKCQkJCQl0eXBlOiAnd2FybmluZycKCQkJCX0pLnRoZW4oKCkgPT4gewoJCQkJCXRoaXMuJGh0dHAoewoJCQkJCQl1cmw6IGAvZ3JvdXAvcXVpdC8ke3RoaXMuZ3JvdXAuaWR9YCwKCQkJCQkJbWV0aG9kOiAnZGVsZXRlJwoJCQkJCX0pLnRoZW4oKCkgPT4gewoJCQkJCQl0aGlzLiRzdG9yZS5jb21taXQoInJlbW92ZUdyb3VwIiwgdGhpcy5ncm91cC5pZCk7CgkJCQkJCXRoaXMuJHN0b3JlLmNvbW1pdCgiYWN0aXZlR3JvdXAiLCAtMSk7CgkJCQkJCXRoaXMuJHN0b3JlLmNvbW1pdCgicmVtb3ZlR3JvdXBDaGF0IiwgdGhpcy5ncm91cC5pZCk7CgkJCQkJfSk7CgkJCQl9KQoJCQl9LAoKCQl9LAoJCWNvbXB1dGVkOiB7CgkJCW93bmVyTmFtZSgpIHsKCQkJCWxldCBtZW1iZXIgPSB0aGlzLmdyb3VwTWVtYmVycy5maW5kKChtKSA9PiBtLnVzZXJJZCA9PSB0aGlzLmdyb3VwLm93bmVySWQpOwoJCQkJcmV0dXJuIG1lbWJlciAmJiBtZW1iZXIuYWxpYXNOYW1lOwoJCQl9LAoJCQlpc093bmVyKCkgewoJCQkJcmV0dXJuIHRoaXMuZ3JvdXAub3duZXJJZCA9PSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyU3RvcmUudXNlckluZm8uaWQ7CgkJCX0KCQkJCgkJfQoJfQo="},{"version":3,"sources":["ChatGroupSide.vue"],"names":[],"mappings":";AAoDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ChatGroupSide.vue","sourceRoot":"src/components/chat","sourcesContent":["<template>\n\t<div class=\"chat-group-side\">\n\t\t<div class=\"group-side-search\">\n\t\t\t<el-input placeholder=\"搜索群成员\" v-model=\"searchText\">\n\t\t\t\t<el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\n\t\t\t</el-input>\n\t\t</div>\n\t\t<el-scrollbar class=\"group-side-scrollbar\">\n\t\t\t<div class=\"group-side-member-list\">\n\t\t\t\t<div class=\"group-side-invite\">\n\t\t\t\t\t<div class=\"invite-member-btn\" title=\"邀请好友进群聊\" @click=\"showAddGroupMember=true\">\n\t\t\t\t\t\t<i class=\"el-icon-plus\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"invite-member-text\">邀请</div>\n\t\t\t\t\t<add-group-member :visible=\"showAddGroupMember\" :groupId=\"group.id\" :members=\"groupMembers\" @reload=\"$emit('reload')\"\n\t\t\t\t\t @close=\"showAddGroupMember=false\"></add-group-member>\n\t\t\t\t</div>\n\t\t\t\t<div v-for=\"(member) in groupMembers\" :key=\"member.id\">\n\t\t\t\t\t<group-member class=\"group-side-member\" v-show=\"!member.quit && member.aliasName.startsWith(searchText)\" :member=\"member\"\n\t\t\t\t\t :showDel=\"false\"></group-member>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<el-divider content-position=\"center\"></el-divider>\n\t\t\t<el-form labelPosition=\"top\" class=\"group-side-form\" :model=\"group\">\n\t\t\t\t<el-form-item label=\"群聊名称\">\n\t\t\t\t\t<el-input v-model=\"group.name\" disabled maxlength=\"20\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"群主\">\n\t\t\t\t\t<el-input :value=\"ownerName\" disabled></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"群公告\">\n\t\t\t\t\t<el-input v-model=\"group.notice\" disabled type=\"textarea\" maxlength=\"1024\" placeholder=\"群主未设置\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"备注\">\n\t\t\t\t\t<el-input v-model=\"group.remark\" :disabled=\"!editing\" placeholder=\"群聊的备注仅自己可见\" maxlength=\"20\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"我在本群的昵称\">\n\t\t\t\t\t<el-input v-model=\"group.aliasName\" :disabled=\"!editing\" placeholder=\"xx\" maxlength=\"20\"></el-input>\n\t\t\t\t</el-form-item>\n\n\t\t\t\t<div class=\"btn-group\">\n\t\t\t\t\t<el-button v-show=\"editing\" type=\"success\" @click=\"onSaveGroup()\">提交</el-button>\n\t\t\t\t\t<el-button v-show=\"!editing\" type=\"primary\" @click=\"editing=!editing\">编辑</el-button>\n\t\t\t\t\t<el-button type=\"danger\" v-show=\"!isOwner\" @click=\"onQuit()\">退出群聊</el-button>\n\t\t\t\t</div>\n\t\t\t</el-form>\n\t\t</el-scrollbar>\n\n\t</div>\n</template>\n\n<script>\n\timport AddGroupMember from '../group/AddGroupMember.vue';\n\timport GroupMember from '../group/GroupMember.vue';\n\n\texport default {\n\t\tname: \"chatGroupSide\",\n\t\tcomponents: {\n\t\t\tAddGroupMember,\n\t\t\tGroupMember\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsearchText: \"\",\n\t\t\t\tediting: false,\n\t\t\t\tshowAddGroupMember: false\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tgroup: {\n\t\t\t\ttype: Object\n\t\t\t},\n\t\t\tgroupMembers: {\n\t\t\t\ttype: Array\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tonClose() {\n\t\t\t\tthis.$emit('close');\n\t\t\t},\n\t\t\tloadGroupMembers() {\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/group/members/${this.group.id}`,\n\t\t\t\t\tmethod: \"get\"\n\t\t\t\t}).then((members) => {\n\t\t\t\t\tthis.groupMembers = members;\n\t\t\t\t})\n\t\t\t},\n\t\t\tonSaveGroup() {\n\t\t\t\tlet vo = this.group;\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: \"/group/modify\",\n\t\t\t\t\tmethod: \"put\",\n\t\t\t\t\tdata: vo\n\t\t\t\t}).then((group) => {\n\t\t\t\t\tthis.$store.commit(\"updateGroup\", group);\n\t\t\t\t\tthis.$emit('reload');\n\t\t\t\t\tthis.$message.success(\"修改成功\");\n\t\t\t\t})\n\t\t\t},\n\t\t\tonQuit() {\n\t\t\t\tthis.$confirm('退出群聊后将不再接受群里的消息，确认退出吗？', '确认退出?', {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.$http({\n\t\t\t\t\t\turl: `/group/quit/${this.group.id}`,\n\t\t\t\t\t\tmethod: 'delete'\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tthis.$store.commit(\"removeGroup\", this.group.id);\n\t\t\t\t\t\tthis.$store.commit(\"activeGroup\", -1);\n\t\t\t\t\t\tthis.$store.commit(\"removeGroupChat\", this.group.id);\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t},\n\n\t\t},\n\t\tcomputed: {\n\t\t\townerName() {\n\t\t\t\tlet member = this.groupMembers.find((m) => m.userId == this.group.ownerId);\n\t\t\t\treturn member && member.aliasName;\n\t\t\t},\n\t\t\tisOwner() {\n\t\t\t\treturn this.group.ownerId == this.$store.state.userStore.userInfo.id;\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.chat-group-side {\n\t\tposition: relative;\n\n\t\t.group-side-member-list {\n\t\t\tpadding: 10px;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tflex-wrap: wrap;\n\t\t\tfont-size: 16px;\n\t\t\ttext-align: center;\n\n\t\t\t.group-side-member {\n\t\t\t\tmargin-left: 15px;\n\t\t\t}\n\n\t\t\t.group-side-invite {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\twidth: 50px;\n\t\t\t\tmargin-left: 15px;\n\n\t\t\t\t.invite-member-btn {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 50px;\n\t\t\t\t\tline-height: 50px;\n\t\t\t\t\tborder: #cccccc solid 1px;\n\t\t\t\t\tfont-size: 25px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tbox-sizing: border-box;\n\n\t\t\t\t\t&:hover {\n\t\t\t\t\t\tborder: #aaaaaa solid 1px;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.invite-member-text {\n\t\t\t\t\tfont-size: 16px;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 30px;\n\t\t\t\t\tline-height: 30px;\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\toverflow: hidden\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.group-side-form {\n\t\t\ttext-align: left;\n\t\t\tpadding: 10px;\n\t\t\theight: 30%;\n\n\t\t\t.el-form-item {\n\t\t\t\tmargin-bottom: 12px;\n\n\t\t\t\t.el-form-item__label {\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\tline-height: 30px;\n\t\t\t\t}\n\n\t\t\t\t.el-textarea__inner {\n\t\t\t\t\tmin-height: 100px !important;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.btn-group {\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t}\n\n\t}\n</style>\n"]}]}